<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="7wEQlgTnbMQH0szfXBpWJ241oRPTiUASFH6lxEfDZLw" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android," />





  <link rel="alternate" href="/atom.xml" title="Oak_Zmm的技术博客" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Foreword本文主要整理 Cool Android Apis。

整理来源 

Dan Lew 的Android Tips Round-Up 系列文章。尤其感谢 Gracker 对上面系列文章的 翻译和部分解释。

知乎问题：Android开发中，有哪些让你觉得相见恨晚的方法、类或接口？ 



所以说严格来讲这篇文章基本不是原创，但是我对每个Tip都加入或官方文档或使用方法或效果之类的补充。">
<meta property="og:type" content="article">
<meta property="og:title" content="Cool Android Apis 整理（一）">
<meta property="og:url" content="http://oakzmm.com/2015/08/04/cool-Android-api/index.html">
<meta property="og:site_name" content="Oak_Zmm的技术博客">
<meta property="og:description" content="Foreword本文主要整理 Cool Android Apis。

整理来源 

Dan Lew 的Android Tips Round-Up 系列文章。尤其感谢 Gracker 对上面系列文章的 翻译和部分解释。

知乎问题：Android开发中，有哪些让你觉得相见恨晚的方法、类或接口？ 



所以说严格来讲这篇文章基本不是原创，但是我对每个Tip都加入或官方文档或使用方法或效果之类的补充。">
<meta property="og:image" content="/image/api01.jpg">
<meta property="og:image" content="/image/api02.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cool Android Apis 整理（一）">
<meta name="twitter:description" content="Foreword本文主要整理 Cool Android Apis。

整理来源 

Dan Lew 的Android Tips Round-Up 系列文章。尤其感谢 Gracker 对上面系列文章的 翻译和部分解释。

知乎问题：Android开发中，有哪些让你觉得相见恨晚的方法、类或接口？ 



所以说严格来讲这篇文章基本不是原创，但是我对每个Tip都加入或官方文档或使用方法或效果之类的补充。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '11335060',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://oakzmm.com/2015/08/04/cool-Android-api/"/>





  <title> Cool Android Apis 整理（一） | Oak_Zmm的技术博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-65214557-1', 'auto');
  ga('send', 'pageview');
</script>









  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Oak_Zmm的技术博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <h1 class="site-subtitle" itemprop="description">所有的酒，都不如你。</h1>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'LYep3yGa4a2n65zPtkj9','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://oakzmm.com/2015/08/04/cool-Android-api/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Oak_Zmm">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/author.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Oak_Zmm的技术博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Oak_Zmm的技术博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                Cool Android Apis 整理（一）
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Дата создания записи" itemprop="dateCreated datePublished" datetime="2015-08-04T10:21:59+08:00">
                Aug 4 2015
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/04/cool-Android-api/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/04/cool-Android-api/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2015/08/04/cool-Android-api/" class="leancloud_visitors" data-flag-title="Cool Android Apis 整理（一）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Foreword">Foreword</h2><p>本文主要整理 <code>Cool Android Apis</code>。</p>
<blockquote>
<p>整理来源 </p>
<ul>
<li><p><code>Dan Lew</code> 的<a href="http://blog.danlew.net/2014/03/30/android-tips-round-up-part-1/" target="_blank" rel="external">Android Tips Round-Up</a> 系列文章。<br>尤其感谢 <a href="http://www.jianshu.com/users/FK4sc4/latest_articles" target="_blank" rel="external">Gracker</a> 对上面系列文章的 <a href="http://www.jianshu.com/notebooks/571559/latest" target="_blank" rel="external">翻译和部分解释</a>。</p>
</li>
<li><p>知乎问题：<a href="http://www.zhihu.com/question/33636939" target="_blank" rel="external">Android开发中，有哪些让你觉得相见恨晚的方法、类或接口？</a> </p>
</li>
</ul>
</blockquote>
<p>所以说严格来讲这篇文章基本不是原创，但是我对每个Tip都加入或官方文档或使用方法或效果之类的补充。整个来说算是 <strong>“把书读厚”</strong> 的过程吧。</p>
<h2 id="Content">Content</h2><ul>
<li><h3 id="Activity-startActivities()"><a href="http://developer.android.com/intl/zh-cn/reference/android/app/Activity.html#startActivities(android.content.Intent[]" target="_blank" rel="external">Activity.startActivities()</a></h3></li>
</ul>
<p>   其实我们绝大多数的开发者可能是没有用过这个方法的，根据我个人理解，用的到场景并不多。这个方法最直接的理解就是使用intent开启多个Activity，我在Google的关于<code>Activity.startActivities()</code>文档说明中，并没有获取到除了StartActivity之外更多的信息。于是我继续扒源码，果然在<code>Contex</code>t和<code>ContextCompat</code> 下找到了更加详细的说明和解释。<br><a id="more"></a><br>Context，以及 <a href="http://developer.android.com/intl/zh-cn/reference/android/support/v4/content/ContextCompat.html#startActivities%28android.content.Context,%20android.content.Intent%5B%5D%29" target="_blank" rel="external">documentation of ContextCompat </a></p>
<pre><code>* Launch multiple <span class="built_in">new</span> activities.  This is generally <span class="operator">the</span> same <span class="keyword">as</span> calling
* {@link <span class="comment">#startActivity(Intent)} for the first Intent in the array,</span>
* that activity during its creation calling {@link <span class="comment">#startActivity(Intent)}</span>
* <span class="keyword">for</span> <span class="operator">the</span> <span class="keyword">second</span> entry, etc.  Note that unlike that approach, generally
* <span class="constant">none</span> <span class="operator">of</span> <span class="operator">the</span> activities except <span class="operator">the</span> <span class="keyword">last</span> <span class="operator">in</span> <span class="operator">the</span> array will be created
* <span class="keyword">at</span> this point, but rather will be created when <span class="operator">the</span> user <span class="keyword">first</span> visits
* them (due <span class="built_in">to</span> pressing back <span class="built_in">from</span> <span class="operator">the</span> activity <span class="command"><span class="keyword">on</span> <span class="title">top</span>).</span>
</code></pre><p>从上面两处文档解释我们可以理解到的，<code>startActiviyies</code> 会创建一个新的Task Stack，任务栈里Activity的位置基于我们传入的Intent数组。当我们按返回键时，就会将栈顶的Activity移除。。其实这也是framework管理用户开启的activity的方式。这里结合<code>Activity</code>的启动模式来理解，就简单多了。</p>
<p>至于应用场景，我目前能想到的就是点击通知栏来开启应用的Activities，而开启哪些Activity以及相应顺序，我们就可以用到这个方法了。</p>
<ul>
<li><h3 id="TextUtils-isEmpty()"><a href="http://developer.android.com/intl/zh-cn/reference/android/text/TextUtils.html#isEmpty(java.lang.CharSequence" target="_blank" rel="external">TextUtils.isEmpty()</a></h3></li>
</ul>
<p>这个我想应该大部分同学都应该用过，具体些的说明： 如果传入的<code>String</code> 为NULL或者Length为0的话就返回 <strong><code>true</code></strong>。</p>
<ul>
<li><h3 id="Html-fromHtml()"><a href="http://developer.android.com/intl/zh-cn/reference/android/text/Html.html#fromHtml(java.lang.String" target="_blank" rel="external">Html.fromHtml()</a></h3></li>
</ul>
<p>如果你对<code>Html</code>熟悉的话，可以很迅速通过这个方法处理一些富文本操作。比如超链接和图文排版等处理。</p>
<p>Example:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">linkView.setText(</span><br><span class="line">              Html.fromHtml(</span><br><span class="line">                      <span class="string">"&lt;b&gt;fromHtml:&lt;/b&gt;  \t Click "</span> +</span><br><span class="line">                              <span class="string">"&lt;a href=\"http://oakzmm.com\"&gt;here&lt;/a&gt; "</span> +</span><br><span class="line">                              <span class="string">"to visit my website "</span></span><br><span class="line">              )</span><br><span class="line">      );</span><br></pre></td></tr></table></figure>
<ul>
<li><h3 id="TextView-setError()"><a href="http://developer.android.com/intl/zh-cn/reference/android/widget/TextView.html#setError%28java.lang.CharSequence%29" target="_blank" rel="external">TextView.setError()</a></h3></li>
</ul>
<p>这个还是直接上图吧 <img src="/image/api01.jpg" alt=""></p>
<ul>
<li><h3 id="View-isShown())"><a href="http://developer.android.com/intl/zh-cn/reference/android/view/View.html#isShown(" target="_blank" rel="external">View.isShown()</a>)</h3></li>
</ul>
<p>有不少人在知乎提到这个知识点，说是可以代替 <code>view.getVisibility() == View.VISIBLE</code> 这样的判断。<br>但是，但是，我做了下测试：</p>
<pre><code><span class="comment"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">editText = (EditText) findViewById(R.id.text);</span><br><span class="line">   System.out.println(<span class="string">"------------------"</span> + editText.isShown());</span><br><span class="line">   System.out.println(<span class="string">"------------------"</span> + (editText.getVisibility() == View.VISIBLE));</span><br></pre></td></tr></table></figure></span>
</code></pre><p>log：<br>    <figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="number">08</span>-<span class="number">05</span> <span class="number">16</span>:<span class="number">47</span>:<span class="number">29.822</span>  <span class="number">12720</span>-<span class="number">12720</span>/com<span class="class">.macouen</span><span class="class">.testdemo</span> I/System.out﹕ ------------------false</span><br><span class="line"><span class="number">08</span>-<span class="number">05</span> <span class="number">16</span>:<span class="number">47</span>:<span class="number">29.822</span>  <span class="number">12720</span>-<span class="number">12720</span>/com<span class="class">.macouen</span><span class="class">.testdemo</span> I/System.out﹕ ------------------true</span><br></pre></td></tr></table></figure></p>
<p>然而<a href="http://developer.android.com/intl/zh-cn/reference/android/view/View.html#isShown(" target="_blank" rel="external">Google文档</a>)：</p>
<pre><code><span class="comment"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isShown</span> <span class="params">()</span>                  Added in API level 1</span><br><span class="line">Returns the visibility of <span class="keyword">this</span> view and all of its ancestors</span><br><span class="line">Returns</span><br><span class="line">True <span class="keyword">if</span> <span class="keyword">this</span> view and all of its ancestors are VISIBLE</span></span><br></pre></td></tr></table></figure></span>
</code></pre><p>摔！老老实实用 <code>view.getVisibility() == View.VISIBLE</code> 吧。</p>
<ul>
<li><h3 id="Build-VERSION_CODES"><a href="http://blog.danlew.net/2014/03/30/android-tips-round-up-part-1/" target="_blank" rel="external">Build.VERSION_CODES</a></h3></li>
</ul>
<p>有些时候我们的app需要根据不同的SDK版本进行执行不同的操作</p>
<p>Example:<br><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) &#123;</span><br><span class="line">       ActionBar actionBar = getActionBar();</span><br><span class="line">       actionBar.setDisplayHomeAsUpEnabled(<span class="keyword">true</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><h3 id="PhoneNumberUtils-convertKeypadLettersToDigits"><a href="http://developer.android.com/intl/zh-cn/reference/android/telephony/PhoneNumberUtils.html#convertKeypadLettersToDigits%28java.lang.String%29" target="_blank" rel="external">PhoneNumberUtils.convertKeypadLettersToDigits</a></h3></li>
</ul>
<p>这个方法简单粗暴，但是我没用过。这个方法会将输入的字母根据键盘上的映射转换为数字。</p>
<blockquote>
<p>Translates any alphabetic letters (i.e. [A-Za-z]) in the specified phone number into the equivalent numeric digits, according to the phone keypad letter mapping described in ITU E.161 and ISO/IEC 9995-8.</p>
</blockquote>
<p>所谓的ITU E.161 标准的键盘就是我们常用的T9键盘。也就是这样<br><img src="/image/api02.jpg" alt=""></p>
<ul>
<li><h3 id="ArgbEvaluator"><a href="http://developer.android.com/intl/zh-cn/reference/android/animation/ArgbEvaluator.html" target="_blank" rel="external">ArgbEvaluator</a></h3></li>
</ul>
<p>!!重点这个方法简直不要太吊。。<br><code>ArgbEvaluator.evaluate(float fraction, Object startValue, Object endValue);</code>根据一个起始颜色值和一个结束颜色值以及一个偏移量生成一个新的颜色，分分钟实现类似于微信底部栏滑动颜色渐变。<br>这里提供另一个颜色渐变的版本 </p>
<blockquote>
<p>From Google Sample <a href="https://developer.android.com/intl/zh-cn/samples/SlidingTabsColors/src/com.example.android.common/view/SlidingTabStrip.html" target="_blank" rel="external">SlidingTabsColors</a>下的 <code>SlidingTabStrip.java</code></p>
</blockquote>
<pre><code><span class="comment"><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line">    * Blend &#123;@code color1&#125; and &#123;@code color2&#125; using the given ratio.</span><br><span class="line">    *</span><br><span class="line">    *<span class="javadoctag"> @param</span> ratio of which to blend. 1.0 will return &#123;@code color1&#125;, 0.5 will give an even blend,</span><br><span class="line">    *              0.0 will return &#123;@code color2&#125;.</span><br><span class="line">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">blendColors</span><span class="params">(<span class="keyword">int</span> color1, <span class="keyword">int</span> color2, <span class="keyword">float</span> ratio)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">final</span> <span class="keyword">float</span> inverseRation = <span class="number">1f</span> - ratio;</span><br><span class="line">       <span class="keyword">float</span> r = (Color.red(color1) * ratio) + (Color.red(color2) * inverseRation);</span><br><span class="line">       <span class="keyword">float</span> g = (Color.green(color1) * ratio) + (Color.green(color2) * inverseRation);</span><br><span class="line">       <span class="keyword">float</span> b = (Color.blue(color1) * ratio) + (Color.blue(color2) * inverseRation);</span><br><span class="line">       <span class="keyword">return</span> Color.rgb((<span class="keyword">int</span>) r, (<span class="keyword">int</span>) g, (<span class="keyword">int</span>) b);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></span>
</code></pre><p>PS：这里说到ARGB，简单的提一下关于Alpha的问题 (和这个Tip并没有联系)。在Google I/O 2013大会上 <code>Romain Guy</code> 在<code>Android Graphics Performance</code> 这部分提到了 <code>use alpha with care</code> 。具体的可以参考：</p>
<blockquote>
<ul>
<li><a href="http://www.curious-creature.com/2015/03/25/android-performance-case-study-follow-up/?utm_source=Android+Weekly&amp;utm_campaign=0692ef161b-Android_Weekly_146&amp;utm_medium=email&amp;utm_term=0_4eb677ad19-0692ef161b-337850757" target="_blank" rel="external">Android Performance Case Study Follow-up</a></li>
<li><a href="http://www.stormzhang.com/android/2014/03/16/best-practices-for-using-alpha/" target="_blank" rel="external">Best Practices for Using Alpha</a></li>
</ul>
</blockquote>
<ul>
<li><h3 id="Space"><a href="http://developer.android.com/intl/zh-cn/reference/android/widget/Space.html" target="_blank" rel="external">Space</a></h3></li>
</ul>
<blockquote>
<p><strong>Added in API level 14</strong></p>
<p>Space is a lightweight View subclass that may be used to create gaps between components in general purpose layouts.</p>
</blockquote>
<p>最棒的一点是Space可以跳过 <code>Draw</code> 这个过程。</p>
<ul>
<li><h3 id="ValueAnimator-reverse()"><a href="http://developer.android.com/intl/zh-cn/reference/android/animation/ValueAnimator.html#reverse%28%29" target="_blank" rel="external">ValueAnimator.reverse()</a></h3></li>
</ul>
<p>之前见不少人提过这个方法，都是说可以顺畅的取消动画效果。文档中是这样说的。</p>
<blockquote>
<p>Plays the ValueAnimator in reverse. If the animation is already running, it will stop itself and play backwards from the point reached when reverse was called. If the animation is not currently running, then it will start from the end and play backwards. This behavior is only set for the current animation; future playing of the animation will use the default behavior of playing forward.</p>
</blockquote>
<p>也就是说这个方法其实是反转动画，如果动画正在播放，这个方法停止动画，并从当前点往回播。如果动画已经播放完毕那就反过来一遍。那么也就是说 “顺畅的取消动画效果” ，是动画还在播放的是时候来调用 <code>reverse</code> 这个方法。</p>
<hr>
<p>待续。</p>

      
    </div>
	
	<div>
	  
		﻿
<h2 id="声明">声明</h2><ol>
<li>由于互联网数据的分享性，如果我发表的文章，来源于您的原创文章，且我没有注明，请<a href="http://weibo.com/minter01" target="_blank" rel="external">微博私信</a>或者邮件macouen@gmail.com说明。 </li>
<li>欢迎转载，但请注明文章原始出处。 </li>
</ol>
<p>作者：Oak_Zmm<br>出处：<a href="http://oakzmm.com/" target="_blank" rel="external">http://oakzmm.com/</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
      
        

	  
	</div>
	
    <div>
      
        

      
    </div>

    <div>
      
        
 <hr />
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div style="padding: 10px 0;">如果您觉得此博客对您有用，不妨请我喝杯咖啡。</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>打赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="http://7xkk5v.com1.z0.glb.clouddn.com/blog/20170118/161219105.jpg" alt="Oak_Zmm WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
        <div id="alipay" style="display: inline-block">
          <img id="alipay_qr" src="http://7xkk5v.com1.z0.glb.clouddn.com/blog/20170118/161421604.jpg" alt="Oak_Zmm Alipay"/>
          <p>支付宝打赏</p>
        </div>
      
    </div>
  </div>
  <div style="padding: 1px 0;" >
  </div>
  <hr/>


      
    </div>

	
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/07/22/okHttp-Volley-Gson/" rel="next" title="使用okHttp、Volley、Gson快速组装HttpClinet">
                <i class="fa fa-chevron-left"></i> 使用okHttp、Volley、Gson快速组装HttpClinet
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/08/11/cool-Android-api-2/" rel="prev" title="Cool Android Apis 整理（二）">
                Cool Android Apis 整理（二） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2015/08/04/cool-Android-api/"
     data-title="Cool Android Apis 整理（一）"
     data-content=""
     data-url="http://oakzmm.com/2015/08/04/cool-Android-api/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/08/04/cool-Android-api/"
           data-title="Cool Android Apis 整理（一）" data-url="http://oakzmm.com/2015/08/04/cool-Android-api/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/author.jpg"
               alt="Oak_Zmm" />
          <p class="site-author-name" itemprop="name">Oak_Zmm</p>
          <p class="site-description motion-element" itemprop="description">oak's blog | java | android |</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/macouen" target="_blank" title="GitHub">
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/minter01" target="_blank" title="Weibo">
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.zhihu.com/people/zhao-min-xing" target="_blank" title="ZhiHu">
                  
                  ZhiHu
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.cnblogs.com/oakMac/" title="我的博客园" target="_blank">我的博客园</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.cnblogs.com/ct2011" title="GavinCT" target="_blank">GavinCT</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.jianshu.com/users/df40282480b4/latest_articles" title="小鄧子的简书" target="_blank">小鄧子的简书</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.spencer-dev.com/" title="给立乐的技术博客" target="_blank">给立乐的技术博客</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://liukun.engineer/" title="LIUKUN的技术博客" target="_blank">LIUKUN的技术博客</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Foreword"><span class="nav-number">1.</span> <span class="nav-text">Foreword</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Content"><span class="nav-number">2.</span> <span class="nav-text">Content</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Activity-startActivities()"><span class="nav-number">2.1.</span> <span class="nav-text">Activity.startActivities()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TextUtils-isEmpty()"><span class="nav-number">2.2.</span> <span class="nav-text">TextUtils.isEmpty()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Html-fromHtml()"><span class="nav-number">2.3.</span> <span class="nav-text">Html.fromHtml()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TextView-setError()"><span class="nav-number">2.4.</span> <span class="nav-text">TextView.setError()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#View-isShown())"><span class="nav-number">2.5.</span> <span class="nav-text">View.isShown())</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Build-VERSION_CODES"><span class="nav-number">2.6.</span> <span class="nav-text">Build.VERSION_CODES</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PhoneNumberUtils-convertKeypadLettersToDigits"><span class="nav-number">2.7.</span> <span class="nav-text">PhoneNumberUtils.convertKeypadLettersToDigits</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ArgbEvaluator"><span class="nav-number">2.8.</span> <span class="nav-text">ArgbEvaluator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Space"><span class="nav-number">2.9.</span> <span class="nav-text">Space</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ValueAnimator-reverse()"><span class="nav-number">2.10.</span> <span class="nav-text">ValueAnimator.reverse()</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Oak_Zmm</span>
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
    &nbsp; | &nbsp;
	本站总访问量 <span id="busuanzi_value_site_pv"><i class="fa fa-spinner fa-spin"></i></span> 次
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"oak"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js?v=5.1.0"></script>
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  












  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("86f15Djo3yQiMCA9lMQaIqT5-gzGzoHsz", "6glo8HMG1iwzCasL5wfUHwPE");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
